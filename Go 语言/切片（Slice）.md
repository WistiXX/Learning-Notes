切片是数组的抽象，与数组相比切片的长度是可更改
***
切片是引用类型，底层引用一个数组，作修改时会影响源数组
# 一、基本格式
## 1. 切片结构
切片由三个字段组成：
- **指针**：指向底层数组的起始位置。
- **长度（len）**：当前元素数量。
- **容量（cap）**：底层数组从切片起始位置到末尾的元素数，决定可扩展的上限。
## 2、创建切片
1. 使用未指定大小的数组定义切片
```go
var 数组名 []数据类型
```
2. 使用`make( )`函数创建切片（make还用于初始化map，channel）
```go
切片名 := make([]类型,len,cap（可选）) //长度是数组的长度也是切片的初始长度
```
3. 通过数组或切片切割
```go
arr := [5]int{1, 2, 3, 4, 5}
s4 := arr[1:3]       // s4 = [2, 3], len=2
s5 := s4[0:1]        // s5 = [2], len=1
```
* **arr[start:end]** ：表示从`star`开始（包含`start`），到`end-1`结束（不含`end` ）
***
# 二、初始化
切片未初始化之前默认为空切片，值为nil，长度为0，容量也为0
```go
var 切片名 []数据类型{值1，值2，值3}  //容量=长度=3

切片名 := []类型{值1，值2，值3}

切片名 := make([]类型,len,cap（可选）)
```
***
# 三、切片操作
## 1. 访问与修改
```go
s := []int{10, 20, 30}
fmt.Println(s[1])    // 输出: 20
s[1] = 200          // 修改元素
```
## 2. **获取切片长度或容量**
使用`len()`和`cap()`函数：
```go
func main() {
   var numbers = make([]int,3,5)

   printSlice(numbers)
}

func printSlice(x []int){
   fmt.Printf("len=%d cap=%d slice=%v\n",len(x),cap(x),x)
}

//输出
len=3 cap=5 slice=[0 0 0]
```
## 3. **动态扩容**
使用`append()`，可以向切片追加新元素
```go
append(目标切片, 新元素)
```

```go
s := []int{1, 2}
s = append(s, 3)       // 追加元素3，此时s = [1,2,3]
s = append(s, 4, 5)   // 追加多个元素4和5，此时s = [1,2,3,4,5]
```
**扩容机制**：当len超过cap时，切片会按以下规则自动扩容
- **当容量cap < 1024时**：新容量为当前容量的2倍
- **当容量cap >= 1024时**：每次扩容25%（版本不同可能有差异）
## 4. 复制切片
使用`copy()`函数，可以在切片之间复制元素
```go
copy(目标切片，源切片)
```

```go
src := []int{1, 2, 3}
dst := make([]int, 2)
copied := copy(dst, src) // 复制2个元素，copied=2
```
***
# 四、高级操作
## 1、三参数切片
在基础切割 `s[star:end]` 之上，Go 提供了更精细的**三参数切片**操作，用于精准控制新切片的**容量**
### **语法与作用**
```go
newSlice := s[star:end:max]
```
* **`star`**：起始索引（包含`star`）
- **`end`**：结束索引（不包含`end`，新切片长度 `len`= `end - star`）
- **`max`**：容量上限（不包含，新切片容量 `cap`=`max - star`）

**核心目的**
1. **避免容量泄露**：限制新切片可扩展的底层数组范围
2. **内存安全**：防止 `append` 操作污染原切片的后续元素

### **示例分析**
假设原切片 `s` 的底层数组为：
```go
s := []int{0, 1, 2, 3, 4}  // len=5, cap=5
sub2 := s[2:3:4]
```
1. **起始索引 `low=2`**
    - 新切片的第一个元素是 `s[2]`，即值 `2`。
2. **结束索引 `high=3`**
    - 新切片包含 `s[2]` 到 `s[3-1]` 的元素，即 `[2]`，长度为 `3-2=1`。
3. **容量上限 `max=4`**
    - 新切片的容量为 `4-2=2`，表示它最多还可以扩展一个元素
最终生成的`sub2`结构：
```go
sub2 := []int{2}        // len=1, cap=2
```